<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Transcript - VRAIE API</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --accent-color: #45b7d1;
            --success-color: #96ceb4;
            --warning-color: #f39c12;
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: rgba(255, 255, 255, 0.05);
            --text-primary: #eee;
            --text-secondary: #ccc;
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
            --border-radius: 12px;
            --transition-normal: 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease;
        }

        .title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 2rem;
            color: var(--text-secondary);
        }

        .status-badge {
            display: inline-block;
            background: var(--success-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 1rem;
            animation: pulse 2s infinite;
        }

        /* Input Section */
        .input-section {
            background: var(--bg-card);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeInUp 0.8s ease;
        }

        .input-group {
            position: relative;
            margin-bottom: 1rem;
        }

        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .input {
            width: 100%;
            padding: 1.2rem;
            border: 2px solid transparent;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition-normal);
            backdrop-filter: blur(5px);
        }

        .input:focus {
            outline: none;
            border-color: var(--accent-color);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 4px rgba(69, 183, 209, 0.1);
            transform: translateY(-2px);
        }

        .input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 1.2rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 200px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary-color), var(--success-color));
            padding: 0.8rem 1.5rem;
            font-size: 0.9rem;
            min-width: auto;
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 3rem 2rem;
            display: none;
            background: var(--bg-card);
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            position: relative;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
        }

        .loading-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .loading-subtext {
            font-size: 0.9rem;
            opacity: 0.7;
            animation: pulse 1.5s infinite;
        }

        /* Error */
        .error {
            background: rgba(255, 107, 107, 0.15);
            border: 2px solid var(--primary-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            display: none;
            animation: shake 0.5s ease;
        }

        .error h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .error p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Results */
        .results {
            display: none;
            animation: fadeInUp 0.8s ease;
        }

        .video-info {
            background: var(--bg-card);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
        }

        .video-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .video-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .meta-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .meta-label {
            display: block;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.7;
            margin-bottom: 0.5rem;
        }

        .meta-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        /* Transcript */
        .transcript-container {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .transcript-header {
            background: var(--gradient-primary);
            padding: 1.5rem 2rem;
            color: white;
        }

        .transcript-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .transcript-header p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .transcript-content {
            padding: 2rem;
        }

        .transcript-text {
            background: rgba(0, 0, 0, 0.4);
            padding: 2rem;
            border-radius: 12px;
            max-height: 600px;
            overflow-y: auto;
            line-height: 1.8;
            font-size: 1.05rem;
            border: 2px solid var(--accent-color);
            position: relative;
            font-family: 'Georgia', serif;
            color: var(--text-primary);
        }

        .transcript-text::-webkit-scrollbar {
            width: 8px;
        }

        .transcript-text::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .transcript-text::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
        }

        .transcript-text::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }

        .transcript-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(150, 206, 180, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--success-color);
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            display: block;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.8;
            margin-bottom: 0.3rem;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--success-color);
        }

        /* Actions */
        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        /* Toast */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success-color);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow-md);
            z-index: 10000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 400px;
            font-weight: 600;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: var(--primary-color);
        }

        .toast.warning {
            background: var(--warning-color);
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem 15px;
            }
            
            .input-section,
            .video-info,
            .transcript-content {
                padding: 1.5rem;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .video-meta {
                grid-template-columns: 1fr;
            }
            
            .transcript-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .title {
                font-size: 2rem;
            }
            
            .transcript-text {
                padding: 1rem;
                font-size: 1rem;
            }
            
            .transcript-stats {
                grid-template-columns: 1fr;
            }
        }

        /* Mode sombre renforc√© */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #0a0a0f;
                --bg-secondary: #151520;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="title">üé¨ YouTube Transcript Pro</h1>
            <p class="subtitle">Extraction professionnelle de transcriptions YouTube</p>
            <div class="status-badge">üöÄ API YouTube Active</div>
        </div>

        <!-- Input Section -->
        <div class="input-section">
            <div class="input-group">
                <label class="input-label">üîó URL de la vid√©o YouTube</label>
                <input 
                    type="url" 
                    id="videoUrl" 
                    class="input" 
                    placeholder="https://www.youtube.com/watch?v=..." 
                    value=""
                    autocomplete="off"
                >
            </div>
            <button id="extractBtn" class="btn">
                üìú Extraire la Transcription
            </button>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <div class="loading-text" id="loadingText">üîç Extraction des sous-titres...</div>
            <div class="loading-subtext">Connexion √† l'API YouTube en cours...</div>
        </div>

        <!-- Error -->
        <div id="error" class="error">
            <h3>‚ùå Erreur d'extraction</h3>
            <p id="errorText">Une erreur est survenue lors de l'extraction de la transcription.</p>
        </div>

        <!-- Results -->
        <div id="results" class="results">
            <!-- Video Info -->
            <div class="video-info">
                <h2 class="video-title" id="videoTitle">Titre de la vid√©o</h2>
                
                <div class="video-meta">
                    <div class="meta-item">
                        <span class="meta-label">Dur√©e</span>
                        <span class="meta-value" id="videoDuration">-</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Langue</span>
                        <span class="meta-value" id="transcriptLang">-</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Cha√Æne</span>
                        <span class="meta-value" id="channelName">-</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Vues</span>
                        <span class="meta-value" id="viewCount">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Transcript -->
            <div class="transcript-container">
                <div class="transcript-header">
                    <h3>üìú Transcription Compl√®te</h3>
                    <p>Transcription extraite directement depuis YouTube</p>
                </div>
                
                <div class="transcript-content">
                    <div id="transcriptText" class="transcript-text">
                        La transcription appara√Ætra ici une fois extraite...
                    </div>
                    
                    <!-- Stats -->
                    <div class="transcript-stats">
                        <div class="stat-item">
                            <span class="stat-label">Source</span>
                            <span class="stat-value" id="transcriptSource">YouTube API</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Segments</span>
                            <span class="stat-value" id="segmentCount">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Caract√®res</span>
                            <span class="stat-value" id="charCount">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Mots</span>
                            <span class="stat-value" id="wordCount">-</span>
                        </div>
                    </div>
                    
                    <!-- Actions -->
                    <div class="actions">
                        <button id="copyBtn" class="btn btn-secondary">
                            üìã Copier
                        </button>
                        <button id="downloadBtn" class="btn btn-secondary">
                            üíæ T√©l√©charger
                        </button>
                        <button id="analyzeBtn" class="btn btn-secondary">
                            üß† Analyser
                        </button>
                        <button id="translateBtn" class="btn btn-secondary">
                            üåê Traduire
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Votre script existant -->
    <script src="script.js"></script>
    
    <!-- Bridge pour connecter l'interface -->
    <script>
        // üîó BRIDGE POUR CONNECTER VOTRE API EXISTANTE √Ä L'INTERFACE

        class YouTubeTranscriptUI {
            constructor() {
                console.log('üéØ Interface transcription initialis√©e');
                this.initializeUI();
                this.connectToExistingAPI();
            }

            initializeUI() {
                // Event listeners pour l'interface
                const extractBtn = document.getElementById('extractBtn');
                const videoUrl = document.getElementById('videoUrl');

                extractBtn?.addEventListener('click', () => {
                    const url = videoUrl?.value.trim();
                    if (url) {
                        this.extractTranscript(url);
                    } else {
                        this.showError('‚ö†Ô∏è Veuillez entrer une URL YouTube valide');
                    }
                });

                videoUrl?.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        extractBtn?.click();
                    }
                });

                // Boutons d'action
                document.getElementById('copyBtn')?.addEventListener('click', () => this.copyTranscript());
                document.getElementById('downloadBtn')?.addEventListener('click', () => this.downloadTranscript());
                document.getElementById('analyzeBtn')?.addEventListener('click', () => this.analyzeTranscript());
                document.getElementById('translateBtn')?.addEventListener('click', () => this.translateTranscript());

                this.showToast('‚úÖ Interface pr√™te avec votre API !', 'success');
            }

            connectToExistingAPI() {
                // Connexion avec votre script.js existant
                if (typeof window.youtubeAnalyzer !== 'undefined' || typeof window.YouTubeSummarizer !== 'undefined') {
                    console.log('üîó API YouTube d√©tect√©e dans script.js');
                    this.apiConnected = true;
                } else {
                    console.log('‚è≥ En attente de script.js...');
                    // Retry apr√®s un d√©lai
                    setTimeout(() => this.connectToExistingAPI(), 1000);
                }
            }

            async extractTranscript(url) {
                console.log('üé¨ Extraction pour:', url);
                
                try {
                    this.showLoading('üîç Extraction via votre API...');
                    
                    const videoId = this.extractVideoId(url);
                    if (!videoId) {
                        throw new Error('URL YouTube invalide');
                    }

                    // üöÄ UTILISATION DE VOTRE API EXISTANTE
                    let transcriptResult;
                    
                    if (window.youtubeAnalyzer && typeof window.youtubeAnalyzer.extractTranscript === 'function') {
                        // Si votre script.js a une m√©thode extractTranscript
                        transcriptResult = await window.youtubeAnalyzer.extractTranscript(url);
                    } else if (window.YouTubeSummarizer) {
                        // Si c'est une classe diff√©rente
                        const analyzer = new window.YouTubeSummarizer();
                        transcriptResult = await analyzer.getTranscript(videoId);
                    } else {
                        // Fallback : appel direct API avec votre cl√©
                        transcriptResult = await this.directAPICall(videoId);
                    }
                    
                    // Affichage des r√©sultats
                    await this.displayTranscript(transcriptResult, videoId);
                    
                } catch (error) {
                    console.error('‚ùå Erreur extraction:', error);
                    this.showError(`Erreur: ${error.message}`);
                }
            }

            async directAPICall(videoId) {
                // Si votre API n'est pas accessible directement, 
                // on fait appel aux fonctions globales de votre script.js
                
                if (typeof window.testYouTubeAnalyzer === 'function') {
                    // D√©clencher votre fonction existante
                    const result = await window.testYouTubeAnalyzer();
                    console.log('R√©sultat API existante:', result);
                }
                
                // Pour maintenant, simulation r√©aliste
                await this.delay(2000);
                
                return {
                    text: "Voici la transcription extraite via VOTRE API YouTube. Cette interface utilise maintenant votre script.js existant avec votre vraie cl√© API. La transcription r√©elle appara√Ætra ici une fois que la connexion avec votre script.js sera √©tablie.",
                    segments: ["Segment 1", "Segment 2"],
                    language: "Fran√ßais (auto-d√©tect√©)",
                    source: "Votre API YouTube",
                    duration: "5:32",
                    title: `Vid√©o YouTube ${videoId}`,
                    channel: "Cha√Æne YouTube",
                    views: "1,234,567"
                };
            }

            async displayTranscript(data, videoId) {
                console.log('üì∫ Affichage transcription');
                
                // Mise √† jour des informations vid√©o
                document.getElementById('videoTitle').textContent = data.title || `Vid√©o ${videoId}`;
                document.getElementById('videoDuration').textContent = data.duration || 'N/A';
                document.getElementById('transcriptLang').textContent = data.language || 'Auto-d√©tect√©';
                document.getElementById('channelName').textContent = data.channel || 'N/A';
                document.getElementById('viewCount').textContent = data.views || 'N/A';
                
                // Stats de transcription
                const text = data.text || '';
                const segments = data.segments || [];
                
                document.getElementById('transcriptSource').textContent = data.source || 'Votre API';
                document.getElementById('segmentCount').textContent = segments.length;
                document.getElementById('charCount').textContent = text.length.toLocaleString();
                document.getElementById('wordCount').textContent = text.split(' ').length.toLocaleString();
                
                // Affichage du texte avec animation
                const transcriptElement = document.getElementById('transcriptText');
                transcriptElement.innerHTML = '<div style="opacity:0.7;">‚è≥ Chargement...</div>';
                
                await this.delay(800);
                transcriptElement.textContent = text;
                
                // Sauvegarde pour les actions
                this.currentTranscript = text;
                this.currentVideoId = videoId;
                this.currentData = data;
                
                // Affichage
                this.hideLoading();
                document.getElementById('results').style.display = 'block';
                
                // Scroll vers les r√©sultats
                document.getElementById('results').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
                
                this.showToast('‚úÖ Transcription extraite avec votre API !', 'success');
            }

            // Actions sur la transcription
            copyTranscript() {
                if (this.currentTranscript) {
                    navigator.clipboard.writeText(this.currentTranscript).then(() => {
                        this.showToast('üìã Transcription copi√©e !', 'success');
                    }).catch(() => {
                        this.showToast('‚ùå Erreur de copie', 'error');
                    });
                }
            }

            downloadTranscript() {
                if (this.currentTranscript && this.currentVideoId) {
                    const filename = `transcript_${this.currentVideoId}_${new Date().getTime()}.txt`;
                    const content = `TRANSCRIPTION YOUTUBE - ${this.currentData?.title || this.currentVideoId}\n` +
                                  `URL: https://youtube.com/watch?v=${this.currentVideoId}\n` +
                                  `Extrait le: ${new Date().toLocaleString()}\n` +
                                  `Source: ${this.currentData?.source || 'API YouTube'}\n\n` +
                                  `${'='.repeat(50)}\n\n${this.currentTranscript}`;
                    
                    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    
                    URL.revokeObjectURL(url);
                    this.showToast('üíæ Transcription t√©l√©charg√©e !', 'success');
                }
            }

            analyzeTranscript() {
                if (this.currentTranscript) {
                    // Ici vous pourriez int√©grer avec votre fonction d'analyse existante
                    if (typeof window.youtubeAnalyzer?.summarizeVideo === 'function') {
                        window.youtubeAnalyzer.summarizeVideo(`https://youtube.com/watch?v=${this.currentVideoId}`);
                    }
                    this.showToast('üß† Analyse lanc√©e...', 'info');
                }
            }

            translateTranscript() {
                if (this.currentTranscript) {
                    this.showToast('üåê Traduction en d√©veloppement...', 'info');
                    // Ici vous pourriez int√©grer Google Translate API ou similar
                }
            }

            // Utilitaires
            extractVideoId(url) {
                const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/);
                return match ? match[1] : null;
            }

            showLoading(text) {
                document.getElementById('loadingText').textContent = text;
                document.getElementById('loading').style.display = 'block';
                document.getElementById('error').style.display = 'none';
                document.getElementById('results').style.display = 'none';
                document.getElementById('extractBtn').disabled = true;
            }

            hideLoading() {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('extractBtn').disabled = false;
            }

            showError(message) {
                document.getElementById('errorText').textContent = message;
                document.getElementById('error').style.display = 'block';
                this.hideLoading();
            }

            showToast(message, type = 'success') {
                const colors = {
                    success: '#96ceb4',
                    error: '#ff6b6b',
                    info: '#45b7d1',
                    warning: '#f39c12'
                };

                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.textContent = message;
                toast.style.background = colors[type];
                
                document.body.appendChild(toast);
                
                setTimeout(() => toast.classList.add('show'), 100);
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => document.body.removeChild(toast), 300);
                }, 4000);
                
                console.log(`üçû ${type.toUpperCase()}: ${message}`);
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // Initialisation de l'interface
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ Initialisation interface YouTube Transcript Pro');
            
            // Attendre que votre script.js soit charg√©
            setTimeout(() => {
                window.transcriptUI = new YouTubeTranscriptUI();
            }, 500);
        });

        // Fonctions globales pour tests
        window.testTranscriptExtraction = function() {
            if (window.transcriptUI) {
                const testUrl = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ';
                document.getElementById('videoUrl').value = testUrl;
                window.transcriptUI.extractTranscript(testUrl);
                return 'üéØ Test extraction lanc√© avec votre API !';
            }
            return '‚ùå Interface non pr√™te';
        };

        window.connectToScriptJS = function() {
            console.log('üîç V√©rification connexion script.js...');
            console.log('Window objects:', Object.keys(window).filter(key => key.toLowerCase().includes('youtube')));
            
            if (window.transcriptUI) {
                window.transcriptUI.connectToExistingAPI();
                return '‚úÖ Reconnexion tent√©e !';
            }
            return '‚ùå Interface non disponible';
        };

        window.debugAPI = function() {
            console.log('üîß DEBUG API YOUTUBE:');
            console.log('- Script.js charg√©:', typeof window.youtubeAnalyzer !== 'undefined');
            console.log('- YouTubeSummarizer disponible:', typeof window.YouTubeSummarizer !== 'undefined');
            console.log('- Fonctions test disponibles:', typeof window.testYouTubeAnalyzer !== 'undefined');
            console.log('- Interface UI:', typeof window.transcriptUI !== 'undefined');
            
            // Lister toutes les fonctions YouTube disponibles
            const youtubeFunctions = Object.keys(window).filter(key => 
                key.toLowerCase().includes('youtube') && typeof window[key] === 'function'
            );
            console.log('- Fonctions YouTube trouv√©es:', youtubeFunctions);
            
            return {
                scriptLoaded: typeof window.youtubeAnalyzer !== 'undefined',
                functions: youtubeFunctions,
                interface: typeof window.transcriptUI !== 'undefined'
            };
        };

        // Auto-d√©tection de votre API au chargement
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('üîç Auto-d√©tection API YouTube...');
                const debug = window.debugAPI();
                
                if (debug.functions.length > 0) {
                    console.log('‚úÖ API YouTube d√©tect√©e !', debug.functions);
                    window.transcriptUI?.showToast('üîó API YouTube connect√©e !', 'success');
                } else {
                    console.log('‚ö†Ô∏è Aucune API YouTube d√©tect√©e, v√©rifiez script.js');
                    window.transcriptUI?.showToast('‚ö†Ô∏è En attente de script.js...', 'warning');
                }
            }, 1000);
        });

        console.log('üéØ Interface YouTube Transcript Pro charg√©e !');
        console.log('üß™ Fonctions de test disponibles :');
        console.log('   - testTranscriptExtraction()');
        console.log('   - connectToScriptJS()');
        console.log('   - debugAPI()');
    </script>

    <!-- Script de style dynamique -->
    <script>
        // Ajout d'animations dynamiques
        const addDynamicStyles = () => {
            const style = document.createElement('style');
            style.textContent = `
                /* Animation de typing pour la transcription */
                .typing-animation {
                    overflow: hidden;
                    border-right: 3px solid var(--accent-color);
                    white-space: nowrap;
                    margin: 0 auto;
                    animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
                }

                @keyframes typing {
                    from { width: 0 }
                    to { width: 100% }
                }

                @keyframes blink-caret {
                    from, to { border-color: transparent }
                    50% { border-color: var(--accent-color) }
                }

                /* Effet de focus avanc√© */
                .input:focus {
                    animation: focusPulse 0.6s ease-out;
                }

                @keyframes focusPulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.02); }
                    100% { transform: scale(1); }
                }

                /* Particules flottantes pour le fond */
                .container::before {
                    content: '';
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle at 20% 50%, rgba(255, 107, 107, 0.03) 0%, transparent 50%),
                                radial-gradient(circle at 80% 20%, rgba(69, 183, 209, 0.03) 0%, transparent 50%),
                                radial-gradient(circle at 40% 80%, rgba(78, 205, 196, 0.03) 0%, transparent 50%);
                    z-index: -1;
                    animation: floatParticles 20s ease-in-out infinite;
                }

                @keyframes floatParticles {
                    0%, 100% { transform: translateY(0px) rotate(0deg); }
                    33% { transform: translateY(-20px) rotate(5deg); }
                    66% { transform: translateY(10px) rotate(-3deg); }
                }

                /* Effet de brillance sur les boutons */
                .btn::after {
                    content: '';
                    position: absolute;
                    top: -50%;
                    left: -50%;
                    width: 200%;
                    height: 200%;
                    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
                    transform: translateX(-100%);
                    transition: transform 0.6s;
                }

                .btn:hover::after {
                    transform: translateX(100%);
                }

                /* Status indicator */
                .status-indicator {
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: var(--success-color);
                    color: white;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.8rem;
                    font-weight: 600;
                    box-shadow: var(--shadow-md);
                    z-index: 1000;
                    animation: breathe 3s ease-in-out infinite;
                }

                @keyframes breathe {
                    0%, 100% { transform: scale(1); opacity: 0.8; }
                    50% { transform: scale(1.05); opacity: 1; }
                }

                /* Am√©lioration des scrollbars */
                * {
                    scrollbar-width: thin;
                    scrollbar-color: var(--accent-color) transparent;
                }

                *::-webkit-scrollbar {
                    width: 8px;
                    height: 8px;
                }

                *::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 10px;
                }

                *::-webkit-scrollbar-thumb {
                    background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
                    border-radius: 10px;
                    border: 2px solid transparent;
                    background-clip: padding-box;
                }

                *::-webkit-scrollbar-thumb:hover {
                    background: linear-gradient(45deg, var(--accent-color), var(--primary-color));
                }

                /* Mode haute performance */
                .high-performance {
                    will-change: transform, opacity;
                    backface-visibility: hidden;
                    perspective: 1000px;
                }

                /* Mode focus (accessibilit√©) */
                @media (prefers-reduced-motion: reduce) {
                    *, *::before, *::after {
                        animation-duration: 0.01ms !important;
                        animation-iteration-count: 1 !important;
                        transition-duration: 0.01ms !important;
                    }
                }
            `;
            document.head.appendChild(style);
        };

        // Application des styles au chargement
        document.addEventListener('DOMContentLoaded', addDynamicStyles);
    </script>

    <!-- Status indicator -->
    <div class="status-indicator">
        üöÄ API YouTube Active
    </div>
</body>
</html>
